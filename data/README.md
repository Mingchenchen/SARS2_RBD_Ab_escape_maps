# Data on antigenic effects of mutations
This directory holds all the input data on the antigenic effects of mutations.

Within this directory, there is a subdirectory for each study.
The study-level subdirectories should be given short names describing the study by year and first author, in the form of `2021_Greaney`.
If the same study has multiple data types (see below), there should be a separate subdirectory for each data type (e.g., `2021_Greaney_yeast_RBD_DMS` and `2021_Greaney_neutralization_assay`).
If there are multiple studies with the same year and first author, name the subdirectories like `2021_Greaney_a` for the first one and `2021_Greaney_b` for the second one.
Each study-level subdirectory should have two files:

 1. A YAML file named `study.yml` that contains the following required fields (you are free to add additional fields if you'd like although they will be ignored in processing of the data):
  - *data_type*: the data type: *yeast_RBD_DMS*
  - *study_title*: title of the paper or pre-print from which the data are taken.
  - *study_first_author*: last name of first author of study.
  - *study_year*: year of study.
  - *study_url*: weblink to study.
  - *spike*: name of viral strain for spike protein sequence used in experiments, such as *Wuhan-Hu-1*.
  - *experimental_system*: experimental system used for measurements: *yeast display*, *lentiviral pseudotype*, *VSV pseudotype*, or *SARS-CoV-2*.
  - *notes*: any relevant notes, should include specification of how data were extracted from study.
  - *conditions*: map antibodies or sera used (e.g., *CR3022*) to the following keyed attributes:
     + *type*: *antibody*, *antibody cocktail*, or *serum*
     + *subtype*: more details about antibody or sera class:
       - if *type* is *antibody* or *antibody cocktail*, can be: *clinical*, otherwise put *null* for an antibody not in clinical use.
       - if *type* is *serum* can be: *convalescent*, *Moderna vaccine*, *Pfizer vaccine*.
     + *year*: year that antibody or serum was isolated.
     + *notes*: any notes on the antibody or serum.

 2. A CSV file named `data.csv` that contains the actual data. 
    The required columns in this CSV file differ depending on the *data_type* value specified in `study.yml`:
    - *yeast_RBD_DMS* data type:
      These data are generated by the Bloom lab using the approach described in [Greaney et al, Cell Host & Microbe, 2021](https://www.sciencedirect.com/science/article/pii/S1931312820306247).
      That approach measures the *escape fraction* for each mutation to the RBD that is not highly deleterious to protein folding or ACE2 affinity.
      These escape fractions range from 0 (for mutations that do not affect antibody binding) to 1 (for mutations that fully escape antibody binding)
      The required columns are:
       + *condition*: the antibody or sera name listed under *conditions* in `study.yml`.
       + *site*: the site in the spike protein (use Wuhan-Hu-1 numbering).
       + *wildtype*: the wildtype amino acid at the site.
       + *mutation*: the mutant amino acid.
       + *mut_escape*: the escape fraction for this mutation.
